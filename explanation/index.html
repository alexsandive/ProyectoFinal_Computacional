
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="..">
      
      
        <link rel="next" href="../tutorial/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.20">
    
    
      
        <title>Metodología - Colisiones de discos en un espacio limitado</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.e53b48f4.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#dinamica-molecular" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Colisiones de discos en un espacio limitado" class="md-header__button md-logo" aria-label="Colisiones de discos en un espacio limitado" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Colisiones de discos en un espacio limitado
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Metodología
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Colisiones de discos en un espacio limitado" class="md-nav__button md-logo" aria-label="Colisiones de discos en un espacio limitado" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Colisiones de discos en un espacio limitado
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Problema
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Metodología
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Metodología
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#metodo-move-dinamica-del-movimiento" class="md-nav__link">
    <span class="md-ellipsis">
      Método move: dinámica del movimiento
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#metodo-checkcolisionpared-choque-con-paredes" class="md-nav__link">
    <span class="md-ellipsis">
      Método checkColisionPared: choque con paredes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Método checkColisionPared: choque con paredes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#condiciones-de-choque" class="md-nav__link">
    <span class="md-ellipsis">
      Condiciones de choque
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#efecto-de-la-colision" class="md-nav__link">
    <span class="md-ellipsis">
      Efecto de la colisión
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#metodo-colisiondiscos-colisiones-elasticas-entre-dos-discos" class="md-nav__link">
    <span class="md-ellipsis">
      Método colisionDiscos: colisiones elásticas entre dos discos
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Método colisionDiscos: colisiones elásticas entre dos discos">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#descomposicion-de-velocidades" class="md-nav__link">
    <span class="md-ellipsis">
      Descomposición de velocidades
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#animacion-con-funcanimation" class="md-nav__link">
    <span class="md-ellipsis">
      Animación con FuncAnimation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#el-histograma-y-su-significado-fisico" class="md-nav__link">
    <span class="md-ellipsis">
      El histograma y su significado físico
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ejemplos de uso
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Recursos de implementación
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#metodo-move-dinamica-del-movimiento" class="md-nav__link">
    <span class="md-ellipsis">
      Método move: dinámica del movimiento
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#metodo-checkcolisionpared-choque-con-paredes" class="md-nav__link">
    <span class="md-ellipsis">
      Método checkColisionPared: choque con paredes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Método checkColisionPared: choque con paredes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#condiciones-de-choque" class="md-nav__link">
    <span class="md-ellipsis">
      Condiciones de choque
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#efecto-de-la-colision" class="md-nav__link">
    <span class="md-ellipsis">
      Efecto de la colisión
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#metodo-colisiondiscos-colisiones-elasticas-entre-dos-discos" class="md-nav__link">
    <span class="md-ellipsis">
      Método colisionDiscos: colisiones elásticas entre dos discos
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Método colisionDiscos: colisiones elásticas entre dos discos">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#descomposicion-de-velocidades" class="md-nav__link">
    <span class="md-ellipsis">
      Descomposición de velocidades
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#animacion-con-funcanimation" class="md-nav__link">
    <span class="md-ellipsis">
      Animación con FuncAnimation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#el-histograma-y-su-significado-fisico" class="md-nav__link">
    <span class="md-ellipsis">
      El histograma y su significado físico
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="dinamica-molecular">Dinámica Molecular</h1>
<p>El código implementa un sistema conformado por un espacio rectangular con anchura y altura definibles, y una cantidad de discos a elección con cierto radio propuesto. Estos parten con una velocidad y posición aleatorios. Los discos chocan de forma elástica con las paredes, y entre ellos también. Los discos no poseen rotación. No se consideran fuerzas de fricción ni de otro tipo.</p>
<hr />
<h2 id="metodo-move-dinamica-del-movimiento">Método <code>move</code>: dinámica del movimiento</h2>
<p>El método <code>move</code> actualiza la posición del disco según su velocidad:</p>
<div class="arithmatex">\[
x(t+\Delta t) = x(t) + v_x \;\Delta t
\]</div>
<div class="arithmatex">\[
y(t+\Delta t) = y(t) + v_y \;\Delta t
\]</div>
<p>No se aplica fuerza, de modo que la velocidad permanece constante mientras no haya colisiones. Podemos notar que es una aplicación directa de las fórmulas de movimiento rectilíneo uniforme para la posición final de una patícula movimento. El movimiento de cada partícula se modelo a partir de la cinemática del movimiento uniforme. El cálculo a nivel computacional se conoce como <em>método de Euler explícito</em>, válida cuando:</p>
<ul>
<li>Las partículas se mueven en trayectorias rectas entre colisiones.</li>
<li>Las escalas de tiempo son pequeñas para evitar errores numéricos grandes.</li>
</ul>
<h2 id="metodo-checkcolisionpared-choque-con-paredes">Método <code>checkColisionPared</code>: choque con paredes</h2>
<p>Cuando un disco llega a una pared, parte de su posición probablemnete se encuentre fuera del dominio. El modelo usa <strong>colisiones perfectamente elásticas</strong> con las paredes para calcular el ángulo y la velocidad después de la colsiión. Teóricamente se considera que una partícula que rebota o colisiona con una superficie uniforme simplemente se refleja, entonces se optó por reflejar la velocidad de la partícula en el eje correspondiente, de esta manera el ángulo de entrada es igual al ángulo de salida.</p>
<h3 id="condiciones-de-choque">Condiciones de choque</h3>
<p>Para una pared vertical:</p>
<div class="arithmatex">\[
x \le r \quad\text{o}\quad x \ge L - r
\]</div>
<p>Para una pared horizontal:</p>
<div class="arithmatex">\[
y \le r \quad\text{o}\quad y \ge H - r
\]</div>
<h3 id="efecto-de-la-colision">Efecto de la colisión</h3>
<p>La componente perpendicular se invierte:</p>
<div class="arithmatex">\[
v_x \rightarrow -v_x \quad\text{(pared vertical)}
\]</div>
<div class="arithmatex">\[
v_y \rightarrow -v_y \quad\text{(pared horizontal)}
\]</div>
<p>Esto implementa el principio de conservación de energía cinética en una colisión elástica, donde solo cambia la dirección de la velocidad. Es por eso que, si todos los discos tienen el mismo tamaño y las paredes son rígidas, la energía total del sistema permanece constante.</p>
<h2 id="metodo-colisiondiscos-colisiones-elasticas-entre-dos-discos">Método <code>colisionDiscos</code>: colisiones elásticas entre dos discos</h2>
<p>Se detecta la colisión comparando la distancia entre centros:</p>
<div class="arithmatex">\[
\text{colisiona si: } \quad d = \| \vec r_2 - \vec r_1 \| \le r_1 + r_2
\]</div>
<h3 id="descomposicion-de-velocidades">Descomposición de velocidades</h3>
<p>En una colisión elástica entre partículas de igual masa:</p>
<ol>
<li>Se define un vector normal:</li>
</ol>
<div class="arithmatex">\[
\hat n = \dfrac{\vec r_2 - \vec r_1}{d}
\]</div>
<ol>
<li>
<p>Se proyectan las velocidades sobre:</p>
<ul>
<li>la dirección normal <span class="arithmatex">\(\hat n\)</span>,</li>
<li>la dirección tangencial <span class="arithmatex">\(\hat t\)</span>.</li>
</ul>
</li>
<li>
<p>En la colisión:</p>
<ul>
<li><strong>las componentes tangenciales permanecen iguales</strong>,  </li>
<li><strong>las normales se intercambian</strong>.</li>
</ul>
</li>
</ol>
<p>La manera más sencilla de hacer estos cálculos es pasar a coordenadas polares y luego volver a cartesianas.
Este resultado proviene de aplicar:</p>
<ul>
<li>Conservación del momento lineal,</li>
<li>Conservación de energía cinética,</li>
<li>Masas iguales.</li>
</ul>
<p>De esta manera, el intercambio de velocidades permite que el programa colisione discos desde cualquier dirección y sin necesidad de calcular el ángulo después de la colisión. También esto permite no pasar por cálculos más profundo de centro de masa ni de energías de manera explícitya. </p>
<h2 id="animacion-con-funcanimation">Animación con <code>FuncAnimation</code></h2>
<p>La animación se basa en la función <code>update(frame)</code> que:</p>
<ol>
<li>Actualiza posición de cada disco (<code>move</code>).</li>
<li>Verifica colisiones contra paredes.</li>
<li>Verifica colisiones entre discos.</li>
<li>Actualiza las posiciones gráficas en la figura.</li>
</ol>
<p><code>FuncAnimation(fig, update, frames=..., interval=...)</code> llama a <code>update</code> repetidamente y redibuja la escena.</p>
<p>Teóricamente, <code>FuncAnimation</code> no entiende "física"; simplemente ejecuta un <em>loop de renderizado</em>. Toda la dinámica proviene de los métodos anteriores.</p>
<h2 id="el-histograma-y-su-significado-fisico">El histograma y su significado físico</h2>
<p>En la simulación, el histograma se genera <strong>a partir de las posiciones del centro de masa de los discos en la coordenada <span class="arithmatex">\(x\)</span></strong>. A diferencia de un histograma de velocidades, aquí <strong>no se estudia la energía</strong>, sino la <strong>estructura espacial del sistema</strong>. Este histograma toma todos los valores de cada disco, desde que inicia la simulación, hasta un tiempo <span class="arithmatex">\(t\)</span> donde se acaba la simualción:</p>
<div class="arithmatex">\[
x_0,\; x_1,\; x_2,\; \dots,\; x_t
\]</div>
<p>y se distribuyen en un conjunto de columnas que representan un conteo sobre cada punto del eje horizontal.</p>
<p>Esto permite observar:</p>
<ul>
<li>Regiones donde se acumulan más discos,</li>
<li>Regiones donde casi no hay partículas,</li>
<li>La evolución temporal de la densidad,</li>
<li>Si la dinámica tiende a una distribución uniforme,</li>
<li>Si aparecen "racimos" o fluctuaciones locales de densidad.</li>
</ul>
<p>Los discos tienden a acumularse en los lados, el histograma debería aproximarse a una distribución relativamente plana en el centro. Cualquier desviación persistente puede indicar:
* Errores numéricos,
* Inestabilidades,
* Efectos de borde,
* Fluctuaciones estadísticas.</p>
<p>Este histograma tiene como objetivo estudiar el comportamiento de las partículas en un entorno descrito como cerrado y con colisiones elásticas. Un ejemplo de esto sería un gas que presente un moviemiento browniano.</p>
<hr />
<h1 id="extra-spatial-hashing-optimizacion-anadida">Extra: <strong>Spatial Hashing</strong> (optimización añadida)</h1>
<p>El <em>spatial hashing</em> <strong>no forma parte del código original</strong>, pero se incorpora para hacer eficiente el proceso de detección de colisiones. El chequeo directo de colisiones entre todos los pares de discos tiene complejidad:</p>
<div class="arithmatex">\[
O(N^2)
\]</div>
<p>pues debemos comparar cada disco con todos los demás. Este método termina siendo ineficiente a grandes escalas, produciendo una simulación más lenta y poco útil.</p>
<h2 id="idea-del-metodo">Idea del método</h2>
<p>El espacio se divide en una cuadrícula de celdas. Cada disco se inserta en una celda basada en sus coordenadas:</p>
<div class="arithmatex">\[
\text{celda}(x,y)=\left(\left\lfloor\frac{x}{s}\right\rfloor,\left\lfloor\frac{y}{s}\right\rfloor\right)
\]</div>
<p>donde <span class="arithmatex">\(s\)</span> es el tamaño de la celda (normalmente, algo mayor que el diámetro del disco). Para encontrar posibles colisiones de un disco basta con <strong>examinar su celda</strong> y las celdas vecinas, que si acomoda en cuadrado, como una matriz, se volverían <strong>8 celdas vecinas</strong>. Esto reduce el número de comparaciones drásticamente.</p>
<h2 id="por-que-se-llama-hashing">¿Por qué se llama "hashing"?</h2>
<p>Porque la celda <code>(i, j)</code> se almacena en un diccionario / hashmap como clave:</p>
<p><code>hash[(i, j)] = [lista de discos en esa celda]</code></p>
<p>Esto permite acceso O(1) esperado.</p>
<p><em>Spatial hashing</em> no cambia la física.<br />
Solo optimiza el número de colisiones que deben evaluarse.<br />
Es uno de los métodos estándar en simulaciones físicas para videojuegos y animación.</p>
<h3 id="referencias">Referencias</h3>
<ul>
<li>Halliday, D., Resnick, R., &amp; Krane, K. (2005). <em>Física</em> (5.ª ed.). Wiley.</li>
<li>Mirtich, B. (1997). Efficient algorithms for two-phase collision detection. Practical motion planning in robotics: current approaches and future directions, 203-223.</li>
<li>Teschner, M., Heidelberger, B., Müller, M., Pomerantes, D., &amp; Gross, M. H. (2003). Optimized spatial hashing for collision detection of deformable objects. In Vmv (Vol. 3, pp. 47-54).</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
        <script src="../javascripts/config.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>